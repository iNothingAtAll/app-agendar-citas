

services:
    # Servicio de base de datos MariaDB
    mariadb:
        image: mariadb:11.4.8-noble
        container_name: citas-db
        restart: unless-stopped
        
        env_file:
            - ./db/.env
        
        ports:
            - 3306:3306

        volumes:
            - mariadb_data:/var/lib/mysql
            - ./db/init:/docker-entrypoint-initdb.d/


    # Adminer para la gesti√≥n de la base de datos
    phpmyadmin:
        image: phpmyadmin:5.2.2-apache
        container_name: citas-phpmyadmin
        restart: unless-stopped
        env_file:
            - ./db/.env

        ports:
            - 8080:80

        depends_on:
            - mariadb


volumes:
    mariadb_data: